<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Jurosoda Loan Calculator</title>
  <link rel="manifest" href="manifest.json">
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; background: #f9f9f9; }
    h1 { text-align: center; color: #333; }
    .box { max-width: 500px; margin: auto; background: #fff; padding: 20px; border: 1px solid #ccc; border-radius: 8px; }
    label { display:block; margin-top:10px; font-weight:bold; }
    input { width: 100%; padding: 8px; margin-top: 5px; }
    button { width: 100%; padding: 10px; margin-top: 15px; background: #333; color: #fff; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #555; }
    .result { margin-top: 20px; padding: 10px; border: 1px solid #ddd; border-radius: 6px; background: #f1f1f1; }
  </style>
</head>
<body>
  <h1>Jurosoda Loan Calculator</h1>
  <div class="box">
    <label>Member Shares (Savings):</label>
    <input id="shares" type="number" placeholder="e.g. 50000">

    <label>Months (max 12):</label>
    <input id="months" type="number" min="1" max="12" placeholder="e.g. 6">

    <button onclick="calculate()">Calculate</button>

    <div id="resultBox" class="result" style="display:none;">
      <p id="loanAmount"></p>
      <p id="processingFee"></p>
      <p id="interest"></p>
      <p id="disbursed"></p>
      <p id="totalRepayable"></p>
      <p id="monthlyPayment"></p>
    </div>
  </div>

  <script>
    function calculate() {
      let shares = parseFloat(document.getElementById('shares').value);
      let months = parseInt(document.getElementById('months').value);

      if (isNaN(shares) || isNaN(months) || months < 1 || months > 12) {
        alert("Please enter valid shares and months (1â€“12).");
        return;
      }

      let loan = shares * 3;
      let fee = loan * 0.02;
      let interest = loan * 0.01 * months;
      let disbursed = loan - (fee + interest);
      let total = loan + interest;
      let monthly = total / months;

      document.getElementById('resultBox').style.display = "block";
      document.getElementById('loanAmount').innerText = "Eligible Loan Amount (3x shares): " + loan.toFixed(2);
      document.getElementById('processingFee').innerText = "Processing Fee (2%): " + fee.toFixed(2);
      document.getElementById('interest').innerText = "Total Interest: " + interest.toFixed(2);
      document.getElementById('disbursed').innerText = "Net Amount Disbursed: " + disbursed.toFixed(2);
      document.getElementById('totalRepayable').innerText = "Total Repayable: " + total.toFixed(2);
      document.getElementById('monthlyPayment').innerText = "Monthly Payment: " + monthly.toFixed(2);
    }

    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('service-worker.js')
        .then(() => console.log("Service Worker registered!"));
    }
  </script>
</body>
</html>
